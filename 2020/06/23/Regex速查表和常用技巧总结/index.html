
<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Regex 速查表和常用技巧总结 | cat coding_life.log</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.17.1/styles/railscasts.css">
    <link rel="stylesheet" href="/lightx.css"/>
    <link rel="manifest" href="/manifest.json" />
    <link rel="apple-touch-icon" href="/icon512.png">
    <meta name="theme-color" content="#ffffff"/>
    
  <meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="cat coding_life.log" type="application/atom+xml">
</head>
  <body>
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', function () {
          navigator.serviceWorker.register('/sw.js', {scope: '/'})
            .then(function (registration) {
              // console.log('ServiceWorker registration successful with scope: ', registration.scope);
            })
            .catch(function (err) {
              console.log('ServiceWorker registration failed: ', err);
            });
        });
      }
    </script>
  <div id="page-container">
    <div id="content-wrap">
      <div class="wrapper">
        <div class="container">
            <nav>
    <ul>
      <li><a href="/">cat coding_life.log</a></li>
      <li><a href="/archives">Archives</a></li>
      <li><a href="/about">About</a></li>
    </ul>
</nav>

            <article>
  <h1>Regex 速查表和常用技巧总结</h1>
  <div class="contents">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#元字符"><span class="toc-text">元字符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#限定符（指定重复）"><span class="toc-text">限定符（指定重复）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#字符类（字符集合）"><span class="toc-text">字符类（字符集合）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#分枝条件（或）"><span class="toc-text">分枝条件（或）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#反义"><span class="toc-text">反义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#贪婪和懒惰"><span class="toc-text">贪婪和懒惰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#分组-子表达式"><span class="toc-text">分组&#x2F;子表达式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#后向引用"><span class="toc-text">后向引用</span></a></li></ol>
  </div>
  <h2 id="元字符"><a href="#元字符" class="headerlink" title="元字符"></a>元字符</h2><table>
<thead>
<tr>
<th>代码</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>.</td>
<td>除换行符外任意一个字符</td>
</tr>
<tr>
<td>\w</td>
<td>匹配字母或数字或下划线或汉字</td>
</tr>
<tr>
<td>\s</td>
<td>匹配任意的空白符</td>
</tr>
<tr>
<td>\d</td>
<td>匹配数字</td>
</tr>
<tr>
<td>\b</td>
<td>匹配单词的开始或结束</td>
</tr>
<tr>
<td>^</td>
<td>匹配字符串的开始</td>
</tr>
<tr>
<td>$</td>
<td>匹配字符串的结束</td>
</tr>
</tbody></table>
<h2 id="限定符（指定重复）"><a href="#限定符（指定重复）" class="headerlink" title="限定符（指定重复）"></a>限定符（指定重复）</h2><p>限定符是一种特殊的元字符，用于指定它前面的表达式的重复次数</p>
<table>
<thead>
<tr>
<th>代码/语法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>重复零次或更多次</td>
</tr>
<tr>
<td>+</td>
<td>重复一次或更多次</td>
</tr>
<tr>
<td>?</td>
<td>重复零次或一次</td>
</tr>
<tr>
<td>{n}</td>
<td>重复n次</td>
</tr>
<tr>
<td>{n,}</td>
<td>重复n次或更多次</td>
</tr>
<tr>
<td>{n,m}</td>
<td>重复n到m次</td>
</tr>
</tbody></table>
<h2 id="字符类（字符集合）"><a href="#字符类（字符集合）" class="headerlink" title="字符类（字符集合）"></a>字符类（字符集合）</h2><p>使用方括号 <code>[]</code> 框起来可以匹配字符的集合，比如：</p>
<p><code>[aeiou]</code> 匹配任何一个元音字母  </p>
<p>还有一些常用的有：</p>
<p><code>[a-b]</code><br><code>[1-9]</code><br><code>[0-26-9]</code> 匹配 0~2，6~9 中的任意数字  </p>
<h2 id="分枝条件（或）"><a href="#分枝条件（或）" class="headerlink" title="分枝条件（或）"></a>分枝条件（或）</h2><p>使用 <code>|</code> 分隔不同的表达式，满足任意一种规则都可以认为匹配</p>
<h2 id="反义"><a href="#反义" class="headerlink" title="反义"></a>反义</h2><p>将元字符大写或者前面加上<code>^</code>来表示反义：</p>
<table>
<thead>
<tr>
<th>代码/语法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>\W</td>
<td>匹配任意不是字母，数字，下划线，汉字的字符</td>
</tr>
<tr>
<td>\S</td>
<td>匹配任意不是空白符的字符</td>
</tr>
<tr>
<td>\D</td>
<td>匹配任意非数字的字符</td>
</tr>
<tr>
<td>\B</td>
<td>匹配不是单词开头或结束的位置</td>
</tr>
<tr>
<td>[^x]</td>
<td>匹配除了x以外的任意字符</td>
</tr>
<tr>
<td>[^aeiou]</td>
<td>匹配除了aeiou这几个字母以外的任意字符</td>
</tr>
</tbody></table>
<p>例子：<br><code>&lt;a[^&gt;]+&gt;</code> 匹配用尖括号括起来的以a开头的字符串。<br><code>[^1-3]</code> 不匹配 1~3 的数字</p>
<h2 id="贪婪和懒惰"><a href="#贪婪和懒惰" class="headerlink" title="贪婪和懒惰"></a>贪婪和懒惰</h2><p>当表达式中带有指定重复的限定符时，如：<code>a\w+b</code> ，正则表达式默认为贪婪匹配，即匹配尽可能多的字符<br>如 <em>aabababab</em> 使用上面的表达式会匹配整个字符串。<br>如果我们只需要匹配第一次出现的符合表达式的字符串，则可以使用懒惰匹配<br>使用懒惰匹配的方法是，在限定符后面加上问号 <code>?</code>，如：<code>a\w+?b</code>，则返回的是 <em>aab</em> 和 <em>ab</em></p>
<h2 id="分组-子表达式"><a href="#分组-子表达式" class="headerlink" title="分组/子表达式"></a>分组/子表达式</h2><p>用小括号来指定子表达式(也叫做分组)，可以用来重复多个字符<br>比如 IP 的简单例子（这个表达式不准确，可能匹配到非法的 IP）：</p>
<pre><code class="regex">(\d{1,3}\.){3}\d{1,3}</code></pre>
<h2 id="后向引用"><a href="#后向引用" class="headerlink" title="后向引用"></a>后向引用</h2><p>指定子表达式（分组）后，每个分组为默认分配一个组号，分组0 为整个正则表达式，其他则以左括号为标志，从1开始为分组编号<br>然后使用 <code>\分组号</code> 就可以引用那个分组所捕获到的字符串了，举个例子：</p>
<pre><code class="regex">^My name is (\w+); Hello, \1$</code></pre>
<p>匹配：<em>My name is Aki; Hello, Aki</em> （Aki 可以更换为任意单词）</p>
<p>常用的分组语法有：</p>
<table>
<thead>
<tr>
<th>分类</th>
<th>代码/语法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>捕获</td>
<td>(exp)</td>
<td>匹配 exp,并捕获文本到自动命名的组里</td>
</tr>
<tr>
<td></td>
<td>(?<name>exp)</td>
<td>匹配 exp,并捕获文本到名称为name的组里<br>也可以写成 (?’name’exp)</td>
</tr>
<tr>
<td></td>
<td>(?:exp)</td>
<td>匹配 exp,不捕获匹配的文本，也不给此分组分配组号</td>
</tr>
<tr>
<td>零宽断言</td>
<td>(?=exp)</td>
<td>零宽度正预测先行断言<br>匹配 exp 前面的位置</td>
</tr>
<tr>
<td></td>
<td>(?&lt;=exp)</td>
<td>零宽度正回顾后发断言<br>匹配 exp 后面的位置</td>
</tr>
<tr>
<td></td>
<td>(?!exp)</td>
<td>零宽度负预测先行断言<br>匹配后面跟的不是 exp 的位置</td>
</tr>
<tr>
<td></td>
<td>(?&lt;!exp)</td>
<td>零宽度负回顾后发断言<br>匹配前面不是 exp 的位置</td>
</tr>
<tr>
<td>注释</td>
<td>(?#comment)</td>
<td>提供注释让人阅读</td>
</tr>
</tbody></table>

  
  <p class="copyright"><strong>Links: <a href="http://yoursite.com/2020/06/23/Regex%E9%80%9F%E6%9F%A5%E8%A1%A8%E5%92%8C%E5%B8%B8%E7%94%A8%E6%8A%80%E5%B7%A7%E6%80%BB%E7%BB%93/">http://yoursite.com/2020/06/23/Regex%E9%80%9F%E6%9F%A5%E8%A1%A8%E5%92%8C%E5%B8%B8%E7%94%A8%E6%8A%80%E5%B7%A7%E6%80%BB%E7%BB%93/</a></strong></p>  
</article>

<div id="comment">
    
</div>
        </div>
      </div>
    </div>
    <div id="footer">
      <div class="wrapper">
        <div class="container">
          
<button id="back-top" onclick="window.scrollTo({top:0,behavior:'smooth'})">TOP</button>
<footer>
    <div>
        <p>
            © 2020 <a href="http://yoursite.com">antisamael</a>.
            Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>.
            Theme <a href="https://github.com/songquanpeng/hexo-theme-lightx" target="_blank" rel="noopener">lightx</a>.
            
        </p>
    </div>
</footer>

        </div>
      </div>
    </div>
  </div>
  
  
  <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@latest/build/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad();
  </script>
  </body>
</html>
